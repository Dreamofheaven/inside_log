# 2023-09-13 개발일지

### 오류 개선 🛠️
    - 자음만 말하면 챗지피티가 영어로 대답함 => 한글로 대답하도록 prompt수정
    - detail 화면
        - 뒤로가기 버튼, delete버튼 나란히 배치
        -  chatGPT 값을 받아오는 시간이 3초이상 걸리므로 사용자 화면에 loading 아이콘 같은거나 지금 동작하고 있는거 보여주기 => setTimeout기능으로 loading페이지 이동
        - delete 버튼 꾸미기
    - chatGPT 버튼
        - 여전히 새로고침이 없으면 값이 반영이 안된다. => 아예 로딩화면 만들어줌
        - window.location.assign 할 때 url 파라미터 값으로 id를 전달해주어서 
        loading 페이지에서 해당하는 detail 페이지로 다시 돌아올 수 있다.

### 느낀점 😇
    - 역시 프론트는 어렵다... div박스를 몇개나 만들어서 justify-content를 했는데 안 먹었다... 근데 은정님이 하니까 됐다... 사람 차별한다.. 프론트엔드는 코드 한끝 차이라서 화면 실시간으로 보면서 많이 시도해보는 게 답인 거 같다. 
    그리고 detail페이지가 재렌더링되면서 console이 2번씩 출력되었다. 아직 정확하게 이해하지는 못했지만 리액트 라이프사이클 때문이라고 한다. 어제 이야기 했듯이 페이지가 재렌더링 되면서 출력`관련 사이트 : https://velog.io/@minbr0ther/React.js-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4life-cycle-%EC%88%9C%EC%84%9C-%EC%97%AD%ED%95%A0`
    
    - 지피티 답변 생성과 페이지 리렌더링, useEffect 실행 등의 타이밍이 너무 맞지 않아서
    이 문제를 해결하기 위해 이틀 이상 밤새 고생을 했다. 리액트 생명주기가 정말 중요하다는 것과 
    굳이 여러번 실행되고 연산될 필요없는 부분들을 조절하는 최적화 부분에 대한 공부가 중요하다는 것을 알게되었다. useEffect의 의존성 변수를 이것저것 바꿔보기도 하고, useEffect scope 밖에다가 리뷰를 dispatch하는 것을 실행시켜보기도 했다. 그러나 잘 모르겠더라.
    이 지피티가 값을 받아오는 랜더링 사이의 시간차를 코드적으로, 프로그래밍적으로 해결을 하지 못하였다.
    그래서 우리가 선택한 방법은 위장이었다.. 이런게 사용자 경험인건가..? 기술적 한계를 극복하는 문제 해결방법이랄까.. 사실 기술적 한계가 아니라 내가 아는 지식의 한계일 것이다.
    loading 페이지를 따로 만들어서, gpt호출 버튼을 클릭하면 loading 페이지로 이동하게 하고,
    loading 페이지에는 로딩 아이콘과 지피티가 값을 받아오고 있다는 안내 문구를 집어넣었다.
    그렇게 해서 사람들에게 기다리라는 안내를 하고 기다리는 시간을 잠시 주는 것이다.
    그런다음 timeout 을 10초정도 주어서 loading페이지에서 다시 디테일 페이지로 랜더링 하게 하였다. 이렇게하면 리랜더링이 되니까, review값을 받아올 수 있다....
    
    전에 EO 유튜브 채널에서 배달의 민족 CEO 인터뷰 영상을 본 적이 있었는데, CEO가 하시는 말이 어떤 문제를 프로그래밍적인 것 말고도 정책적인 부분으로 바꿀 수 있어야 한다고 했다. 그 예시로, 엘리베이터가 너무 오래걸리는 성능 문제였다. 그거를 어떤 회사는 비싼 돈을 들여서 성능이 좋은 엘리베이터로 교체하고, 어떤 회사는 엘리베이터의 기계를 바꾸는 것이 아니라 엘리베이터에 거울을 부착하여 사람들이 심리적으로 엘리베이터를 기다리는 시간을 인지하지 못하게 하는 방법을 이야기하셨다. 

    이와 비슷한 경험을 한 것이 아닌가 생각이 든다. 재미있었고, 노력한 것이 아깝지만 다시 기초를 잘 공부해야겠다.

### 추후 개선사항 🧗🏻‍♀️      
    - 서버가 꺼지면 무조건 로그아웃 되도록 하기
    - main 화면
        - 이쁘게 고치기(나무에 열매가 여기저기 달렸으면....해요....하하핳)(연구해봐요ㅎ가능할지도 ㅎㅎㅎ)
    - detail 화면
        - 글씨체 적용
        
    - 전체적인 state 관리
        - 지금 redux로 state 관리를 하고 있다. 이 부분을 전체적으로 적용해야 함
    - 전체적인 반응형 
        - 전체적으로 프로그램을 돌려보면, 반응형이 이상한 부분이 있다. 특히 아이패드에 적용해
        했을 때는 여백이 많아지는 부자연스러운 부분이 있다. 그리고 아이폰에 적용했을 때는 create화면이 너무 크게 나오는 것 같다. 세세하게 반응형을 신경써야할 부분은 크기를 줄이거나 키우는 방법으로 반응형 손보기(vh, vw 단위로 고치기)